<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CanvasTable - HTMLCanvasTableElement</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f9;
            color: #333;
        }
        header {
            background-color: #333;
            color: white;
            padding: 20px 40px;
            text-align: center;
        }
        header h1 {
            margin: 0;
            font-size: 2.5em;
        }
        .container {
            max-width: 1000px;
            margin: 40px auto;
            padding: 0 20px;
        }
        section {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }
        h2 {
            color: #007bff;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
            margin-top: 0;
        }
        .code-block {
            background-color: #272822;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', monospace;
            line-height: 1.4;
            margin-bottom: 20px;
        }
        .canvas-demo {
            display: block;
            height: 300px; /* ãƒ‡ãƒ¢ã®é«˜ã•ã‚’æŒ‡å®š */
            border: 1px solid #ccc;
            margin-top: 20px;
            resize: vertical;
            overflow: hidden;
        }
        p {
            line-height: 1.6;
        }
        code {
            background-color: #eee;
            padding: 2px 4px;
            border-radius: 3px;
        }
    </style>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/canvas-table/canvas-table@v1/HTMLCanvasTableElement.js"></script>
</head>
<body>

    <header>
        <h1>CanvasTable Custom Element</h1>
        <p>é«˜æ€§èƒ½ãªãƒ‡ãƒ¼ã‚¿ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’Canvasã§å®Ÿç¾ã™ã‚‹Web Component</p>
    </header>

    <div class="container">
        
        <section id="overview">
            <h2>âœ¨ æ¦‚è¦ (Overview)</h2>
            <p><code>&lt;canvas-table&gt;</code> ã¯ã€HTMLã® <strong>Canvasè¦ç´ </strong> ã‚’åˆ©ç”¨ã—ã¦ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‚«ã‚¹ã‚¿ãƒ è¦ç´ ï¼ˆWeb Componentï¼‰ãƒ™ãƒ¼ã‚¹ã®ãƒ‡ãƒ¼ã‚¿ãƒ†ãƒ¼ãƒ–ãƒ«ã§ã™ã€‚å¤§é‡ã®ãƒ‡ãƒ¼ã‚¿ã§ã‚‚é«˜ã„æç”»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’ç™ºæ®ã™ã‚‹ã‚ˆã†ã«è¨­è¨ˆã•ã‚Œã¦ãŠã‚Šã€ä»®æƒ³åŒ–æç”»ï¼ˆVirtual Renderingï¼‰ã‚„æŸ”è»Ÿãªæç”»ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºï¼ˆ<code>CanvasTableModel</code>ï¼‰ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚</p>
            <p>æœ¬ã‚«ã‚¹ã‚¿ãƒ è¦ç´ ã¯ã€<code>&lt;canvas&gt;</code>ä¸Šã§ã®ãƒã‚¦ã‚¹ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†ã‚„ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã®æç”»ãƒ»æ“ä½œãƒ­ã‚¸ãƒƒã‚¯ã‚‚å†…åŒ…ã—ã¦ã„ã¾ã™ã€‚</p>
        </section>

        <section id="cdn">
            <h2>ğŸ”— CDNã®åˆ©ç”¨</h2>
            <p>ä»¥ä¸‹ã®CDNãƒªãƒ³ã‚¯ã‚’ä½¿ç”¨ã—ã¦ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ç°¡å˜ã«çµ„ã¿è¾¼ã‚€ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
            <div class="code-block">
                &lt;script type="text/javascript" src="https://cdn.jsdelivr.net/gh/canvas-table/canvas-table@v1/HTMLCanvasTableElement.js"&gt;&lt;/script&gt;
            </div>
        </section>

        <section id="usage">
            <h2>ğŸ’¡ åŸºæœ¬çš„ãªä½¿ã„æ–¹ (Basic Usage)</h2>
            <p><code>&lt;canvas-table&gt;</code> è¦ç´ ã‚’HTMLã«é…ç½®ã—ã€JavaScriptã§ <code>CanvasTableModel</code> ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã—ã¦ <code>.table</code> ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«è¨­å®šã—ã¾ã™ã€‚</p>

            <h3>HTML</h3>
            <div class="code-block">
                &lt;canvas-table id="myTable" class="canvas-demo"&gt;&lt;/canvas-table&gt;
            </div>

            <h3>JavaScript</h3>
            <div class="code-block">
                const tableElement = document.getElementById('myTable');<br>
                const header = ['ID', 'åå‰', 'å¹´é½¢', 'ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹'];<br>
                const data = [<br>
                &nbsp;&nbsp;[1, 'Alice', 30, true],<br>
                &nbsp;&nbsp;[2, 'Bob', 24, false],<br>
                &nbsp;&nbsp;[3, 'Charlie', 35, true],<br>
                &nbsp;&nbsp;// ... ã•ã‚‰ã«å¤šãã®ãƒ‡ãƒ¼ã‚¿<br>
                &nbsp;&nbsp;[100, 'Zoe', 28, true]<br>
                ];<br>
                <br>
                // CanvasTableModelã®å®šç¾©ãŒjsãƒ•ã‚¡ã‚¤ãƒ«ã«å«ã¾ã‚Œã¦ã„ã‚‹å‰æ<br>
                const model = new CanvasTableModel(header, data);<br>
                <br>
                // éå¸¸ã«å¤šãã®ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆã—ã¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’ä½“é¨“<br>
                for(let i = 4; i &lt; 100; i++){<br>
                &nbsp;&nbsp;data.push([i + 1, \`Person \$\{i+1\}\`, 20 + (i \% 10), (i \% 3) === 0]);<br>
                }<br>
                <br>
                tableElement.table = model;<br>
            </div>

            <h3>ãƒ‡ãƒ¢</h3>
            <p>ä»¥ä¸‹ã®ã‚¨ãƒªã‚¢ãŒã‚«ã‚¹ã‚¿ãƒ è¦ç´  <code>&lt;canvas-table&gt;</code> ã§ã™ã€‚ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚„ãƒªã‚µã‚¤ã‚ºã‚’è©¦ã—ã¦ãã ã•ã„ã€‚</p>
            <canvas-table id="demoTable" class="canvas-demo"></canvas-table>
        </section>
        
        <section id="model">
            <h2>âš™ï¸ ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ« (CanvasTableModel)</h2>
            <p>æç”»ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã¨ã€ãã®æç”»æ–¹æ³•ï¼ˆã‚»ãƒ«ã®ã‚µã‚¤ã‚ºã€ã‚¹ã‚¿ã‚¤ãƒ«ã€ãƒ†ã‚­ã‚¹ãƒˆæç”»ãƒ­ã‚¸ãƒƒã‚¯ãªã©ï¼‰ã¯ã€<strong><code>CanvasTableModel</code></strong> ã‚¯ãƒ©ã‚¹ã«ã‚ˆã£ã¦ç®¡ç†ã•ã‚Œã¾ã™ã€‚</p>
            <ul>
                <li><strong>ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿:</strong> <code>new CanvasTableModel(header, data)</code> ã§åˆæœŸåŒ–ã—ã¾ã™ã€‚</li>
                <li><strong>ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º:</strong> <code>getWidth(columnNo)</code> ã‚„ <code>getHeight(rowNo)</code>ã€ãã—ã¦æœ€ã‚‚é‡è¦ãª <code>drawData(renderer, rowNo, columnNo)</code> ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ã™ã‚‹ã“ã¨ã§ã€ã‚»ãƒ«ã®æç”»å†…å®¹ã‚’å®Œå…¨ã«åˆ¶å¾¡ã§ãã¾ã™ã€‚</li>
            </ul>
        </section>

    </div>

    <script type="text/javascript">
        // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰å¾Œã«ãƒ‡ãƒ¢ã‚’å®Ÿè¡Œ
        // HTMLCanvasTableElement.jsã§å®šç¾©ã•ã‚ŒãŸã‚¯ãƒ©ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™
        document.addEventListener('DOMContentLoaded', () => {
            // ã‚¯ãƒ©ã‚¹ã¯ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚³ãƒ¼ãƒ—ã§åˆ©ç”¨å¯èƒ½ã¨ä»®å®š
            if (typeof CanvasTableModel === 'undefined') {
                console.error('CanvasTableModel is not defined. Make sure the script loaded correctly.');
                return;
            }

            const tableElement = document.getElementById('demoTable');
            
            const header = ['ID', 'æ°å', 'éƒ¨ç½²', 'çµ¦ä¸($)', 'ã‚¢ã‚¯ãƒ†ã‚£ãƒ–'];
            const data = [];

            for(let i = 0; i < 50; i++) {
                data.push([
                    i + 1,
                    `ãƒ¦ãƒ¼ã‚¶ãƒ¼ #${i + 1}`,
                    i % 3 === 0 ? 'å–¶æ¥­' : (i % 3 === 1 ? 'é–‹ç™º' : 'äººäº‹'),
                    Math.floor(50000 + Math.random() * 50000), // çµ¦ä¸
                    (i % 5) !== 0 // ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
                ]);
            }
            
            // CanvasTableModelã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆ
            const model = new CanvasTableModel(header, data);

            // ã‚»ãƒ«å¹…ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºä¾‹ (drawDataã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’å…ƒã«)
            model.getWidth = function(columnNo) {
                if (columnNo === null) return 50; // è¡Œãƒ˜ãƒƒãƒ€å¹…
                switch(columnNo) {
                    case 0: return 60; // ID
                    case 1: return 150; // æ°å
                    case 2: return 100; // éƒ¨ç½²
                    case 3: return 120; // çµ¦ä¸
                    case 4: return 80; // ã‚¢ã‚¯ãƒ†ã‚£ãƒ–
                    default: return 120;
                }
            };
            
            // ã‚«ã‚¹ã‚¿ãƒ è¦ç´ ã«ãƒ¢ãƒ‡ãƒ«ã‚’è¨­å®š
            tableElement.table = model;
        });
    </script>

</body>
</html>